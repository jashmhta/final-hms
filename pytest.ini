# HMS Enterprise-Grade System - Pytest Configuration

[pytest]
# Test discovery
testpaths = tests
python_files = test_*.py *_test.py
python_classes = Test*
python_functions = test_*

# Test execution options
addopts =
    --strict-markers
    --strict-config
    --verbose
    --tb=short
    --cov=.
    --cov-report=term-missing
    --cov-report=html
    --cov-report=xml
    --cov-report=json
    --cov-fail-under=95
    --cov-config=.coveragerc
    --junitxml=test-results.xml
    --no-header
    --disable-warnings

# Test markers
markers =
    unit: Unit tests
    integration: Integration tests
    e2e: End-to-end tests
    performance: Performance tests
    security: Security tests
    slow: Slow tests
    database: Database tests
    api: API tests
    frontend: Frontend tests
    backend: Backend tests
    healthcare: Healthcare-specific tests
    compliance: Compliance tests
    patient_data: Patient data tests
    medical_records: Medical records tests
    authentication: Authentication tests
    authorization: Authorization tests
    encryption: Encryption tests
    audit: Audit tests
    migration: Migration tests
    regression: Regression tests
    smoke: Smoke tests
    sanity: Sanity tests
    ui: UI tests
    mobile: Mobile tests
    web: Web tests

# Filter warnings
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning
    ignore::UserWarning
    ignore::RuntimeWarning
    ignore::ImportWarning

# Minimum Python version
minversion = 7.0

# Test execution
console_output_style = count
log_cli = True
log_cli_level = INFO
log_cli_format = %(asctime)s [%(levelname)8s] %(name)s: %(message)s
log_cli_date_format = %Y-%m-%d %H:%M:%S

# Django integration
DJANGO_SETTINGS_MODULE = app.settings