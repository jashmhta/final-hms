# HMS Enterprise-Grade System - npm Configuration
# =================================================
# This file configures npm behavior for healthcare enterprise development

# ==========================================
# REGISTRY AND AUTHENTICATION
# ==========================================
# Use npm registry with authentication (for private packages)
registry=https://registry.npmjs.org/

# Always authenticate for scoped packages (if using private registry)
//registry.npmjs.org/:_authToken=${NPM_TOKEN}

# Use enterprise registry if available
# @hms:registry=https://npm.enterprise.hms.com/

# ==========================================
# SECURITY SETTINGS
# ==========================================
# Strict SSL for healthcare security compliance
strict-ssl=true

# Audit security vulnerabilities (healthcare compliance requirement)
audit-level=moderate
audit=true

# Package integrity verification
ignore-scripts=false
fund=false

# ==========================================
# PERFORMANCE AND OPTIMIZATION
# ==========================================
# Save exact versions for reproducible builds in healthcare systems
save-exact=true

# Lock file generation (critical for healthcare compliance)
package-lock=true

# Save production dependencies only by default
save-prod=true

# Cache configuration for CI/CD efficiency
cache=/tmp/.npm

# Network timeout for reliability
fetch-timeout=60000
fetch-retry-maxtime=60000
fetch-retry-mintimeout=20000

# ==========================================
# DEVELOPMENT WORKFLOW
# ==========================================
# Initialize projects with proper defaults
init-author-name=HMS Enterprise-Grade Development Team
init-author-email=dev@hms.enterprise.com
init-license=UNLICENSED
init-version=1.0.0

# Default package manager settings
loglevel=warn
progress=true

# ==========================================
# ENTERPRISE PROXY SETTINGS
# ==========================================
# Proxy configuration (uncomment if needed)
# proxy=http://proxy.enterprise.hms.com:8080
# https-proxy=http://proxy.enterprise.hms.com:8080
# noproxy=localhost,127.0.0.1,internal.hms.com

# ==========================================
# HEALTHCARE-SPECIFIC SETTINGS
# ==========================================
# Exclude development packages from production installs
only=prod

# Strict dependency management for healthcare compliance
package-lock-only=false

# ==========================================
# CI/CD INTEGRATION
# ==========================================
# CI/CD specific settings
if-env-ci=true
  prefer-offline=true
  progress=false
  loglevel=error
endif

# ==========================================
# PACKAGE SCOPES AND NAMESPACES
# ==========================================
# HMS Enterprise package scopes
@hms:registry=https://registry.npmjs.org/

# Private package authentication
//registry.npmjs.org/:_authToken=${NPM_TOKEN}

# ==========================================
# DEVELOPMENT ENVIRONMENT
# ==========================================
# Development environment settings
if-env-development=true
  ignore-scripts=false
  fund=false
  audit-level=moderate
endif

# ==========================================
# STAGING ENVIRONMENT
# ==========================================
# Staging environment settings
if-env-staging=true
  ignore-scripts=true
  fund=false
  audit-level=moderate
  prefer-offline=true
endif

# ==========================================
# PRODUCTION ENVIRONMENT
# ==========================================
# Production environment settings
if-env-production=true
  ignore-scripts=true
  fund=false
  audit-level=moderate
  prefer-offline=true
  only=prod
endif

# ==========================================
# TESTING ENVIRONMENT
# ==========================================
# Testing environment settings
if-env-test=true
  ignore-scripts=false
  fund=false
  audit-level=low
  prefer-offline=true
endif

# ==========================================
# PACKAGE MANAGEMENT
# ==========================================
# Save prefix for consistent version management
save-prefix="~"

# Tag for pre-release packages
tag=latest

# Access level for published packages
access=restricted

# ==========================================
# DEPRECATED AND LEGACY
# ==========================================
# Legacy settings (deprecated)
# shrinkwrap=false

# ==========================================
# CUSTOM SCRIPTS AND HOOKS
# ==========================================
# Pre-installation hook (for healthcare compliance checks)
# preinstall=node scripts/healthcare-compliance-check.js

# Post-installation hook (for security validation)
# postinstall=node scripts/security-validation.js

# ==========================================
# MONITORING AND LOGGING
# ==========================================
# Enable verbose logging for debugging
# loglevel=verbose

# Save logs to file for audit trails
# logs-max=1000
# logs-dir=/var/log/npm

# ==========================================
# CACHE AND PERFORMANCE
# ==========================================
# Maximum number of parallel operations
maxsockets=50

# Cache cleanup settings
cache-min=604800  # 7 days
cache-max=6048000 # 70 days

# ==========================================
# SECURITY SCANNING
# ==========================================
# Enable npm audit scanning
audit=true
audit-level=moderate

# Package signature verification
# verify-signatures=true

# ==========================================
# NETWORK AND CONNECTIVITY
# ==========================================
# Network retry settings
fetch-retry=3
fetch-retry-factor=10
fetch-retry-maxtimeout=60000

# Timeout settings
fetch-timeout=60000
fetch-retry-maxtime=60000

# ==========================================
# ENTERPRISE FEATURES
# ==========================================
# Enterprise registry configuration
@hms:registry=https://enterprise-registry.hms.com/
//enterprise-registry.hms.com/:_authToken=${ENTERPRISE_NPM_TOKEN}

# Mirror configuration for faster builds
# mirror=https://npm-mirror.hms.com/

# ==========================================
# DEVELOPER EXPERIENCE
# ==========================================
# Color output for better readability
color=true

# Progress indicators
progress=true

# Unicode support
unicode=true

# ==========================================
# PACKAGE VERSIONING
# ==========================================
# Versioning strategy
save-prefix="~"

# Tagging strategy
tag=latest

# ==========================================
# SECURITY POLICY
# ==========================================
# Strict security settings for healthcare
strict-ssl=true
ignore-scripts=false
fund=false
audit=true
audit-level=moderate

# ==========================================
# COMPLIANCE AND AUDIT
# ==========================================
# Audit trail logging
loglevel=info

# Package validation
verify-signatures=true

# ==========================================
# END OF FILE
# ==========================================